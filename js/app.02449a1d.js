(function(t){function e(e){for(var i,c,a=e[0],s=e[1],u=e[2],l=0,p=[];l<a.length;l++)c=a[l],Object.prototype.hasOwnProperty.call(n,c)&&n[c]&&p.push(n[c][0]),n[c]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i]);d&&d(e);while(p.length)p.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],i=!0,a=1;a<r.length;a++){var s=r[a];0!==n[s]&&(i=!1)}i&&(o.splice(e--,1),t=c(c.s=r[0]))}return t}var i={},n={app:0},o=[];function c(e){if(i[e])return i[e].exports;var r=i[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=t,c.c=i,c.d=function(t,e,r){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)c.d(r,i,function(e){return t[e]}.bind(null,i));return r},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],s=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var d=s;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";r("85ec")},"03db":function(t,e,r){"use strict";r("b168")},"3c48":function(t,e,r){"use strict";r("916d")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var i=r("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("Header")],1)},o=[],c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("ProductCatalog",{attrs:{products:t.PRODUCTS}})],1)},a=[],s=r("5530"),u=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"ProductCatalogHeader"},[r("span",{staticClass:"ProductCatalogTitle"},[t._v("Добавление товара")]),r("select",{directives:[{name:"model",rawName:"v-model",value:t.selectFilter,expression:"selectFilter"}],staticClass:"ProductCatalogSelect",on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectFilter=e.target.multiple?r:r[0]},function(e){return t.filtred()}]}},[r("option",{attrs:{value:"default"}},[t._v("По умолчанию")]),r("option",{attrs:{value:"min"}},[t._v("По цене min")]),r("option",{attrs:{value:"max"}},[t._v("По цене max")]),r("option",{attrs:{value:"title"}},[t._v("По наименованию")])])]),r("div",{staticClass:"ProductCardContent"},[r("div",{class:{AddProductShow:!t.isShowHeader},on:{scroll:t.handleScroll}},[r("AddProduct",{attrs:{products:t.products}})],1),r("div",{staticClass:"ProductCatalogGoods",class:{ProductCatalogGoodsShow:t.isShowHeader}},t._l(t.products,(function(t){return r("ProductCard",{key:t.id,attrs:{product:t}})})),1)])])},d=[],l=(r("4e82"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"ProductCardDiv"},[r("ProductIconDelete",{staticClass:"deleteButton",attrs:{id:t.product.id}}),r("ImageCard",{attrs:{image:t.product.image}}),r("TextCard",{attrs:{title:t.product.title,description:t.product.description,price:t.product.price}})],1)}),p=[],f=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"TextCard"},[r("div",{staticClass:"TextCardTitle"},[r("span",[t._v(t._s(t.title))])]),r("div",{staticClass:"TextCardDescription"},[r("span",[t._v(t._s(t.description))])]),r("div",{staticClass:"TextCardPrice"},[r("span",[t._v(t._s(t.price.toLocaleString("ru-RU"))+" руб.")])])])},v=[],m=(r("a9e3"),{name:"TextCard",props:{title:String,description:String,price:Number}}),h=m,_=(r("efe9"),r("2877")),P=Object(_["a"])(h,f,v,!1,null,"29fd395d",null),b=P.exports,g=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("img",{staticClass:"ImageCard",attrs:{src:t.image,alt:"img"}})},C=[],O={name:"ImageCard",props:{image:String}},T=O,D=(r("e71c"),Object(_["a"])(T,g,C,!1,null,"711565c8",null)),E=D.exports,A=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("img",{staticClass:"ProductIconDelete",attrs:{src:t.icon},on:{click:function(e){return t.deleteFromProducts()}}})},S=[],$=r("2f62"),x={name:"ProductIconDelete",props:{id:Number},data:function(){return{icon:"../../assets/icon/deleteIcon.svg"}},methods:Object(s["a"])(Object(s["a"])({},Object($["b"])(["DELETE_FROM_PRODUCTS"])),{},{deleteFromProducts:function(){this.$store.dispatch("DELETE_FROM_PRODUCTS",this.id)}})},y=x,j=(r("03db"),Object(_["a"])(y,A,S,!1,null,"2c418d0f",null)),w=j.exports,R={name:"ProductCard",components:{TextCard:b,ImageCard:E,ProductIconDelete:w},props:{product:{type:Object,default:function(){return{}}}}},F=R,I=(r("3c48"),Object(_["a"])(F,l,p,!1,null,"288657ca",null)),U=I.exports,L=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",{staticClass:"AddProductForm",on:{submit:function(e){return e.preventDefault(),t.someAction()}}},[r("div",[r("label",{staticClass:"AddProductLabel"},[t._v("Наименование товара")]),r("div",{staticClass:"AddProductObligatoryField"}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"AddProductInput",class:{AddProductInputError:t.$v.title.$error},attrs:{placeholder:"Введите наименование товара"},domProps:{value:t.title},on:{blur:function(e){return t.$v.title.$touch()},input:function(e){e.target.composing||(t.title=e.target.value)}}}),t.$v.title.$error?r("div",{staticClass:"AddProductError"},[t._v("Поле является обязательным")]):t._e()]),r("div",[r("label",{staticClass:"AddProductLabel"},[t._v("Описание товара")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"AddProductTextArea",attrs:{placeholder:"Введите описание товара"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),r("div",[r("label",{staticClass:"AddProductLabel"},[t._v("Ссылка на изображение товара")]),r("div",{staticClass:"AddProductObligatoryField"}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.image,expression:"image"}],staticClass:"AddProductInput",class:{AddProductInputError:t.$v.image.$error},attrs:{placeholder:"Введите ссылку"},domProps:{value:t.image},on:{blur:function(e){return t.$v.image.$touch()},input:function(e){e.target.composing||(t.image=e.target.value)}}}),t.$v.image.$error?r("div",{staticClass:"AddProductError"},[t._v("Поле является обязательным")]):t._e()]),r("div",[r("label",{staticClass:"AddProductLabel"},[t._v("Цена товара")]),r("div",{staticClass:"AddProductObligatoryField"}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],staticClass:"AddProductInput",class:{AddProductInputError:t.$v.price.$error},attrs:{placeholder:"Введите цену"},domProps:{value:t.price},on:{blur:function(e){return t.$v.price.$touch()},input:function(e){e.target.composing||(t.price=e.target.value)}}}),t.$v.price.$error&&!t.price?r("div",{staticClass:"AddProductError"},[t._v("Поле является обязательным")]):t._e(),t.$v.price.$error&&t.price?r("div",{staticClass:"AddProductError"},[t._v("Цена должна быть числовым значением")]):t._e()]),r("button",{staticClass:"AddProductButton",attrs:{type:"submit",disabled:!t.isValidate||!0===t.$v.$anyError||!1===t.$v.$dirty}},[t._v("Добавить товар")])])},M=[],H=r("2909"),N=(r("a4d3"),r("e01a"),r("ac1f"),r("5319"),r("00b4"),r("b5ae")),k={name:"AddProduct",components:{},props:{products:{type:Array,default:function(){return[]}}},data:function(){return{title:null,description:null,image:null,price:null,id:null,product:{},productsData:[]}},computed:{isValidate:function(){return this.title&&this.image&&this.price}},methods:Object(s["a"])(Object(s["a"])({},Object($["b"])(["ADD_TO_PRODUCTS"])),{},{someAction:function(){this.productsData=Object(H["a"])(this.products),this.productsData.length>0?(this.productsData.sort((function(t,e){return t.id>e.id?-1:1})),this.id=this.productsData[0].id+1):this.id=0,this.product={id:this.id,title:this.title,description:this.description,image:this.image,price:parseInt(this.price.replace(/\s/g,""),10)},this.$store.dispatch("ADD_TO_PRODUCTS",this.product),this.title=null,this.description=null,this.image=null,this.price=null}}),validations:{title:{required:N["required"]},image:{required:N["required"]},price:{required:N["required"],validFormat:function(t){return/\d/.test(t)}}}},q=k,G=(r("6b8e"),Object(_["a"])(q,L,M,!1,null,"324a32a5",null)),B=G.exports,J={name:"ProductCatalog",components:{ProductCard:U,AddProduct:B},props:{products:{type:Array,default:function(){return[]}}},data:function(){return{selectFilter:"default",isShowHeader:!0}},methods:{handleScroll:function(){var t=59,e=window.pageYOffset||document.documentElement.scrollTop;this.isShowHeader=!(e>t)},filtred:function(){return"default"===this.selectFilter&&this.products.sort((function(t,e){return t.id>e.id?1:-1})),"min"===this.selectFilter?this.products.sort((function(t,e){return t.price>e.price?1:-1})):"max"===this.selectFilter?this.products.sort((function(t,e){return t.price>e.price?-1:1})):"title"===this.selectFilter?this.products.sort((function(t,e){return t.title>e.title?1:-1})):void 0}},created:function(){window.addEventListener("scroll",this.handleScroll)}},V=J,Y=(r("8440"),Object(_["a"])(V,u,d,!1,null,"fbc69dc0",null)),z=Y.exports,K={name:"Header",components:{ProductCatalog:z},data:function(){return{productDataDefault:[]}},computed:Object(s["a"])({},Object($["c"])(["PRODUCTS"])),methods:Object(s["a"])({},Object($["b"])(["GET_PRODUCTS_FROM_API"])),mounted:function(){this.$store.dispatch("GET_PRODUCTS_FROM_API").then((function(t){t.data||console.log("Error")}))}},Q=K,W=Object(_["a"])(Q,c,a,!1,null,null,null),X=W.exports,Z={name:"App",components:{Header:X}},tt=Z,et=(r("034f"),Object(_["a"])(tt,n,o,!1,null,null,null)),rt=et.exports,it=r("1dce"),nt=r.n(it),ot=r("bc3a"),ct=r.n(ot),at={GET_PRODUCTS_FROM_API:function(t){var e=t.commit;return ct()("https://fakestoreapi.com/products",{method:"GET"}).then((function(t){return e("SET_PRODUCTS_TO_STATE",t.data),t})).catch((function(t){return console.log(t),t}))},ADD_TO_PRODUCTS:function(t,e){var r=t.commit;r("ADD_PRODUCT",e)},DELETE_FROM_PRODUCTS:function(t,e){var r=t.commit;r("DELETE_PRODUCT",e)}},st=(r("4de4"),r("d3b7"),{ADD_PRODUCT:function(t,e){t.products.push(e)},SET_PRODUCTS_TO_STATE:function(t,e){t.products=e},DELETE_PRODUCT:function(t,e){t.products=t.products.filter((function(t){return t.id!==e}))}}),ut={PRODUCTS:function(t){return t.products}};i["a"].use($["a"]);var dt=new $["a"].Store({state:{products:[]},mutations:st,actions:at,getters:ut}),lt=dt;i["a"].use(nt.a),i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(rt)},store:lt}).$mount("#app")},"6b8e":function(t,e,r){"use strict";r("c19d")},8440:function(t,e,r){"use strict";r("c56d")},"85ec":function(t,e,r){},"916d":function(t,e,r){},b168:function(t,e,r){},c06c:function(t,e,r){},c19d:function(t,e,r){},c56d:function(t,e,r){},e71c:function(t,e,r){"use strict";r("c06c")},efe9:function(t,e,r){"use strict";r("fdde")},fdde:function(t,e,r){}});
//# sourceMappingURL=app.02449a1d.js.map